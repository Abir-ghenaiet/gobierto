<%= render "gobierto_admin/shared/validation_errors", resource: @person_event_form %>

<%= form_for(@person_event_form, as: :person_event, url: @person_event_form.persisted? ? admin_people_person_event_path(@person, @person_event_form) : admin_people_person_events_path(@person)) do |f| %>

  <div class="pure-g">

    <div class="pure-u-1 pure-u-md-16-24">

      <div class="form_item input_text">
        <%= f.label :title %>
        <%= f.text_field :title, placeholder: t(".placeholders.title") %>
      </div>

      <div class="form_item input_text">
        <%= f.label :starts_at %>
        <%= f.datetime_field :starts_at %>
      </div>

      <div class="form_item input_text">
        <%= f.label :ends_at %>
        <%= f.datetime_field :ends_at %>
      </div>

      <div class="form_item textarea">
        <%= f.label :description %>
        <%= f.text_area :description %>
      </div>

      <div class="form_item file_field attachment_file_field">
        <%= f.label :attachment_file, t(".attachment_file_constraints") %>

        <% if f.object.attachment_url.present? %>
          <%= link_to f.object.attachment_url, f.object.attachment_url %>
        <% end %>

        <%= f.file_field :attachment_file %>
      </div>

      <h3><%= t(".locations") %></h3>

      <%= f.fields_for :locations do |location_form| %>
        <%= location_form.check_box :_destroy, class: "hidden" %>

        <div class="form_item input_text">
          <%= location_form.label :name %>
          <%= location_form.text_field :name %>
        </div>

        <div class="form_item input_text">
          <%= location_form.label :address %>
          <%= location_form.text_field :address %>
        </div>
      <% end %>

    </div>

    <div class="pure-u-1 pure-u-md-2-24"></div>

    <div class="pure-u-1 pure-u-md-1-4 stick_in_parent" id="stick_in_parent">

      <div class="widget_save">

        <%= f.submit class: "button" %>

      </div>

    </div>

  </div>

<% end %>
